# A-guide-to-coordinate-systems-in-Great-Britain

## 1    简介

### 1.1    谁应当阅读这本小册子

这本小册子的目标人群为：精通除了大地测量学之外领域的其他人、需要了解坐标系统的概念来为处理坐标数据服务的人、需要大不列颠地区的制图坐标系统信息的人(mapping coordinate system)。该书介绍了：

- 地球坐标系(terrestrial coordinate system)的基本概念

  地面坐标系是被设计用来表达地球表面物体位置的坐标地系统。

- 全球定位系统(GPS)和英国地形测量局(Ordance Survey, OS)制图中用到的坐标系统，以及他们是如何彼此联系的。

尽管这本小册子主要是针对GPS定位系统，但是其中的概念和技术也可以被应用于其他全球卫星导航系统(Global Navigation Satellite System, GNSS)中, 例如俄罗斯的GLONASS、欧洲的Galileo和中国北斗卫星导航系统(BDS)。

大地测量学要解决的问题，包括其他事情，都包含地球坐标系统的定义。对于坐标的使用通常都没有注意到这一点的存在，或者他们需要为了正确的使用错表需要知晓大地测量的基础概念。这个小册子解释了这些概念。如果你的工作中会拥戴地表上空间点的位置，想知道以下任何问题的答案，或者你不理解这些问题，这个小册子是给你提供这些答疑一个好的开始：

- 大地测量学家是如何定义覆盖大范围的正确的坐标系统？这个工作难在哪里？为什么我们不能对所有定位需求只使用一个简易的坐标系统。
- WGS84到底是个什么东西？它有多精确？WGS84如何于地图坐标联系在一起？为什么其他的全球定位系统与WGS84如此接近。为什么有这么多的缩略语用来描述GPS定位系统。
- How is the Ordnance Survey National Grid defined? How does OSGB36 relate to the National  Grid? Why does it seem to be difficult to relate the National Grid coordinates to GPS coordinates?  How are grid references converted to latitude and longitude coordinates? （TODO）
- 为什么坐标系统需要用到椭球？为什么有许多不同的椭球？为什么很难将坐标从一个椭球转换到另外一个椭球？椭球与基准面相同吗？平均海平面高程和椭球高程差别在那里？
- 为什么不同坐标系统的变换(transformation)是不精确的？GPS坐标是如何精确的与National Grid和平均海平面高相关联。

### 1.2    一些关于坐标系统的谬误

- 谬误一："地表上的点有唯一的经度和维度"

  出于混合了科学与历史偶然的多种原因（For Reasons that are a mixture of valid science and historical accident），没有一个统一的经纬度坐标系统。零经度（中央经线）有很多不同的经线，零纬度（赤道面）可以对应许多不同的圆。通常前者经过格林尼治附近的某个地方，后者通常在rotational equator的附近。在这本小册子中涉及到的经纬度坐标系统也有许多难以察觉的差异。

  结果就是 一个点的坐标在不同经纬度坐标系统下的差距可以超过200m。在一些应用中这样的误差大小可以是很重要的，所以知晓正在使用的坐标系统及其定义是很重要的。

- 谬误二：“水平面就是水准面(level surface)”

  当然，它不是，因为地球时圆的----任何重力水平面(gravitationally)（比如杯子里的葡萄酒表面，或者平均海水面）的曲率应当如同地球曲率，所以它不能是平的（即它不能是几何意义上的平面）。除此之外，水准面有更复杂的形状----它不是想球体一样的简单的曲面。当我们说 "水准面" 我们指的是一个处处与重力方向垂直的表面。重力的方向大致上朝向地心，但是它的方向和大小以复杂原因在不同的地方存在着差异，即使是在很小的范围内。这些由地表质量不均匀分布造成的差异都很小，以致与如果不使用特殊的测量仪器则无法注意到。因此水准面都很坑洼和复杂。

- 谬误三：“地面点的真实坐标不会变化”

  他们会变化，这是由于地球持续的变形运动（Note：变形运动不是大陆漂移）。地面上的点由于太阳和月亮带来的潮汐的影响每天相对于地心移动的高度甚至能达到正负1m。大陆之间一年的相对移动甚至可以达到10cm，这些移动对于制图来说影响很大，因为它是不断持续的过程，在50年后大陆之间相对移动可以达到50m。许多其它的效应可以被观察到： the sinking of Britain when the tide comes in over the continental shelf (a few centimetres), the sinking of inland areas under a weather system ‘high’ (about 5 millimetres), and the rising of the land in response to the melting of the last Ice Age (about 2 millimetres per year in Scotland, up to 1 centimetre per year in Scandinavia)。总的来说，随着基于单个坐标系统下地球上区域面积的增大， 地球这种动态变化带来的影响也越来越显著。

  现代的趋势是使用全球坐标系统，即使是局部的应用场景。因此注意到在全球坐标系统下我们所站的地面是持续移动的十分重要。

- 谬误四：在不同的坐标系统之间有精确的数学公式进行变换。

  精确的公式只适用于完美的几何学领域，不是用于真实世界上的地表的点坐标。基于某个坐标系统下某个点的已知坐标是从在一大堆假设条件下通过大量观测平均得来。观测和假设可能是接近正确的也可以是准确性存疑的，尤其是这个点是在很久之前被定位的。因为它是坐标，由于沉降、大陆漂移和其他作用 它也是会移动的。

  所造成的结果就是到目前位置两个坐标系统的关系必须在地表上被观察到，并且这种观察容易造成主观误差。因此从一个坐标系统的坐标转换到另一个系统只存在拟合模型。第一个回答的问题时 我需要何种精度？通常如果需要低精度（比如说5到10米），这种坐标系统之间的变换则简单且容易。如果精度需求很高(比如说在任意地点上达到1厘米至半米)，则需要更多的转换过程。在任何情况下，变换过程应当有规定的精度级别。

- 

## 2    地球的形状

### 第一个大地测量学的问题

当你观察地球上陆地表面和海洋表面细节时，会发现地球的形状不规则并且复杂。如果你将这些细节用于地图制图，你需要一个地球形状的简单模型，有时候这被成为“地球的形状”（figure of the Earth），且坐标系统将会基于此构建。紧接着相对这个简单的形状可以确定这些细节的位置来构建整个地球画卷。

大地测量学，所有制图和导航所以来的科学，其首先要确定简化的地球画形状和大小，接着要确定地球陆地表面各种要素的位置，从板块、海岸线、山脉，到测量和制图的控制标志。Hence geodesists provide the fundamental ‘points of known coordinates’ that cartographers and navigators take as their starting point. 大地测量学的第一个问题，即“什么是最适合地球的最简单、最基础的形状？”。只有在完成这个之后，我们才能将它作为一个参考面，这是我们测量地表是将会遵守的。

对于这个问题大地测量学家有两个非常有用答案：椭球(ellipsoids)和大地水准面(geoid)。为了真正理解坐标系统，你首先需要理解这些概念。

### 椭球(Ellipsoids)

地球非常接近球形。然而它有一个微笑的赤道隆起(equatorial bulge)使得赤道半径大约比极地半径长了千分之一。因此最能接近地球的几何形状是双轴椭球(biaxial ellipsoid)，这是一个将椭球环绕其短轴旋转得到的形状（less exactly, it is the shape obtained by squashing a sphere slightly along one axis）。椭球的短轴与地球旋转轴几乎相同。

因为椭球的形状不能完美的匹配地球，因此有许多不同的椭球被使用，有些被设计为整个地球的最佳适配（全局最优），有些只是局部地区最适配（局部最优）。例如全球定位系统GPS使用的一个被成为CRS80的椭球，该椭球为整个地球的最佳适配。在不列颠的地图至途中使用的椭球为Airy 1830椭球，被设计成只是在不列颠达到最佳适配，它比CRS80椭球更好但是不适用于地球上的其他区域。。所以多种多样的椭球被使用在不同的大小和形状的区域中，当然这些椭球的朝向和相对地球的位置也不一样。现代的趋势是为了考虑兼容性在任何地方都是用CRS80椭球。虽然局部最佳的椭球已经是一种过时的方式，但是它仍然比较重要因为它已经在国家制图坐标系统中被使用（指不列颠，并不是中国）。

### 2.3    大地水准面(The Geoid)

如果我们想测量搞成，我们需要想象中的在我们下边的0高程表面，这是我们测量时需要参考的。任意点精确的高程为距离假想表面的垂直高度。即使我们用随意的、相对的术语讨论搞成，我们也是隐式地假设这个曲面存在。

递增的高程在地图上被认为是上坡和递减的高程在地图上被认为是下坡这两点事实暗含了高程参考表面必须是一个水准面，即在任何地方直角总是指向重力的方向。如果我们在整个世界的角度上谈论某个地方的高程很显然这个参考表面应当是封闭的形状，并且它会是类似于椭球形状的物体。它的具体形状可以通过满足其表面的任何一处与重力方向处处垂直这一条件而确定。就像在1.2中指出的，水准面并不是简单的几何形状。重力的方向尽管大致指向地球中心，但是在全球尺度乃至细微局部都因为复杂的原因而不同。这表明参考水准表面不是像椭球之类的简单的形状而是崎岖不平和复杂的。我们可以使用物理观测的方法确定水准面，比如精确重力测量。这是被称作重力测量的科学研究。

取决于何种高程被我们选择作为'zero height'，有任意数量的闭合水准面可以被我们选择作为全球高程参考表面，并且这种选择可以说是任意的。我们可以认为这些在地球地表面内部和外部的水准面就像洋葱的表层一样。每一个都对应于地球重力场的不同潜在能级，每一个尽管都是不规则形状，其高程却是常量。我们选择最接近地球所有海洋的平均表面的水准面作为高程参考表面。这是有意义的选项因为我们时沿海生物并且我们通常认为海平面的高程为0 。我们将这个不规则的三维形状叫做大地水准面(Geoid)。尽管它全部是想象出来的并且难于测量，但是它是唯一的表面：它是全球范围内最吻合平均海洋表面的水准面。这不同于椭球体，椭球体有很多区域与地球并不吻合。

大地水准面与椭球体的形状非常接近--我们可以定义最优的椭球体使得椭球体表面与大地水准面的匹配程度优于200m。然而这就是在椭球上我们能做到的最优适配， and usually we want to know our height much better than that。大地水准面在世界范围内其上的点的有相同的高程，并且它不会超过当地海平面几米的高度。这使得它成为全球定位系统垂直定位的理想参考平面。大地水准面在许多方面就像我们在2.1章节介绍的真实的地球形状一样，因为一个基础的水准面对于我们认识世界是必要的，它的存在就像我们对待强大的重力场一样。如果你想，在认识到地球的形状是圆的而不是平坦的之后要做的就是认识到这个形状是复杂的大地水准面形状而不是简单的圆。

#### 2.3.1 局部大地水准面

地图上的高程测量通常起始于平均海平面。这意味着一个不同的水准面被用来充当0高程参看平面--一个基于安放在制图区域当地验潮仪而不是全球平均海平面。对于大多数用途来说，这些局部参考表面可以被认为是与大地水准面平行，但是有整体误差，有时候达到2米。例如， heights in mainland Britain are measured relative to the tide-gauge in Newlyn, Cornwall, giving a reference surface which is about 80 centimetres below the Geoid。

是什么引起了全球平均海平面和局部海平面的不合常理的差异？我们知道纯水在不受干扰下构成水平面，所以这两者应该相同。但问题是海洋包围的海岸绝对不是不受干扰的。洋流(oceanic currents)、潮汐作用(effects of tide)、岸边的风、水温差异和纯度 都导致了平均海平面与大地水准面的细微差距。所以平均海平面包含了轻微的丘陵和河谷，这些被术语海洋地表形状??(sea surface topology)。围绕着不列颠的海洋碰巧围绕成了河谷的形状，所以他们的（指不列颠）平均海平面大约比大地水准面低80厘米。不同的国家才用了不同的局部海平面作为他们的0高程定义。世界上不同的区域有许多不同的0高程参考面，它们基于都与真是的全球大地水准面平行。这些参考平面有时候被乘坐local geoids--大写的G可以不写。

## 3    什么是位置Position？

我们已经介绍了不规则的、动态的地球，椭球的概念以及用来描述其基本形状的大地水准面。现在我们想以一种简单的数字方式 确切地描述我们或者一些要素在地球上的位置，所以挑战在于如何定义一个坐标系统，其可以使用明确的一系列数字阐明任意地表要素的唯一并且精确的位置。在大地测量学、制图学和导航领域，位置代表在明确定义的坐标系统下的坐标，并且附加上这些坐标可呢存在的误差。我们是怎么拿到这些的呢？

这个问题的答案是本节所有内容的主题。在3.1中我们会学习到在工作中会碰到的不同类型的坐标(coordinates)，3.2和3.3中我们会接触到两个在创建地球坐标系统中必须的概念，这些概念将会告诉我们蕴含在一系列坐标中的更深的细节。

### 3.1    坐标的类型(The types of coordinates)

#### 3.1.1 經度、维度、椭球高

表示地球位置(terrestrial position)的做常用的方式是使用两个角度：經度和纬度。这些定义了在地球球体上的一个点。更准确的来说，他们在椭球体表面定义了一个临近球体的点。因此，在任何程度的精度条件下你必须知晓当前正在使用的椭球。

椭球和经纬度的关系很简单。一个經度对应南北方向的线条被称为大地经线，一个纬度对应东西方向的线条被称为纬圈(parallels)。椭球上的其中一个大地经线被选择作为中央经线并且给其赋值0經度。椭球上一点的經度为经过该点的经线与中央经线的夹角。通常經度被分成东西半球（半椭球，更精确地说）：从0度到西经180度、从0度到东经180度。椭球的赤道被选择作为0纬度的纬圈。点的纬度为过该点垂直于椭球的直线与赤道面的夹角。纬度同样被分成0到北纬90度和0到南纬90度，不管是在南或北90度纬度都是一个点----椭球的极点。

所以經度和纬度给定了在精确定义的椭球体表面上的位置。因为地表上真是的点通常是在椭球体表面以上（或者在其下面），我们需要第三个坐标，被称作椭球高，即从该点起沿着垂直于椭球体表面的直线到椭球体表面的距离。术语“椭球高” 实际上不常被使用，因为即使这个高度是接近于垂直测量，但是它并没有给出真实的高度因为不是相对于水准面。它真正做到的事以一种简单的几何方式给出一个点在椭球体表面以上或以下的精确的表达方式，这就是它的用意。

通过使用三个坐标：經度、纬度、高度 我们可以明确的相对于椭球体定位一个点。为了将这个点精确的转换到地表上，我们需要精确的知道椭球体与我们感兴趣区域的相对位置。



### 3.1.2    笛卡尔坐标

空间直角坐标是用于描述三维空间位置的非常简单的系统，使用三个互相垂直的坐标轴：X、Y、Z。三个坐标清晰地定义了在系统上的任何点。我们可是使用它来作为經度、纬度、椭球高的一个有效的替代用来表达同样精确的信息。

我们使用三个笛卡儿坐标轴与经纬度系统一起排布。X坐标轴位于椭球赤道面上并且经过中央经线（0經度）。X轴的负半部分经过180读經度。Y轴也同样位于赤道面上但是他经过东经90度，因此与X轴成直角。显然Y轴的负半部分经过西经90度。Z轴等同于椭球的极轴：正半部分经过北极，负半部分经过南极。因此它与X轴、Y轴都垂直。

很明显任何能唯一使用经纬度、椭球高表示的位置都可以使用唯一的三个笛卡尔坐标来表示，反之亦然。这两种等价系统之间的转换方式在附录B中提供。

必须清楚的认识到将经纬度转换到笛卡尔坐标，其转寒结果是相对于笛卡尔坐标轴的，这对于所使用的椭球来说是唯一的。他们不能与其它椭球或者没有应用坐标系统间变换 的笛卡尔坐标混淆（没有可比性）。当考虑将不同数据源的坐标放在一起使用时，需要小心一种名称的坐标系统可能会有多种实现，他们不一定会彼此兼容。

类似的，将笛卡尔坐标转换到经纬度椭球高，这个转换结果也是相对椭球而言的，并且也是相对于输入坐标的笛卡尔参考坐标系统而言的。他们在没有提前进行合适变化的情况下不能与任何其他的椭球或坐标系统一起使用。

